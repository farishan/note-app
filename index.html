<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="An application for note-taking.">
  <title>Note App</title>
  <link rel="stylesheet" href="./style.css">
</head>

<body>
  <script>
    class App {
      STORAGE_KEY = 'note'
      DOM = {
        root: document.body,
        input: document.createElement('textarea')
      }

      constructor() {
        /* styling */
        this.DOM.input.setAttribute('cols', 30)
        this.DOM.input.setAttribute('rows', 10)
        this.DOM.input.style.padding = '8px'
        this.DOM.input.style.color = 'inherit'
        this.DOM.input.style.borderRadius = '4px'
        this.DOM.input.style.background = 'transparent'
        this.DOM.input.style.border = '1px solid #aaaaaa'

        this.DOM.input.addEventListener('keyup', (e) => {
          localStorage.setItem(this.STORAGE_KEY, JSON.stringify(e.target.value))
        })
      }

      start() {
        const savedNote = localStorage.getItem(this.STORAGE_KEY)
        if (savedNote) this.DOM.input.value = JSON.parse(savedNote)
        this.DOM.root.appendChild(this.DOM.input)
        this.DOM.input.focus()
      }
    }

    const app = new App()
    app.DOM.input.style.width = '100%'
    app.DOM.input.style.margin = '0 auto'
    app.DOM.input.style.display = 'block'
    app.DOM.input.style.maxWidth = '600px'
    app.start()
  </script>
</body>

</html>